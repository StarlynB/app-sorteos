{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/paticipantes.service\";\nimport * as i2 from \"../../services/prize.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../prizes/prizes.component\";\nfunction SorteoComponent_ng_container_28_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 31)(6, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function SorteoComponent_ng_container_28_tr_1_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const participant_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.deleteParticipant(participant_r11));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(7, \"svg\", 33);\n    i0.ɵɵelement(8, \"path\", 34);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const participant_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(participant_r11.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(participant_r11.department);\n  }\n}\nfunction SorteoComponent_ng_container_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SorteoComponent_ng_container_28_tr_1_Template, 9, 2, \"tr\", 30);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.participants);\n  }\n}\nfunction SorteoComponent_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 35);\n    i0.ɵɵtext(2, \" No hay participantes a\\u00FAn \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SorteoComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"p\", 37);\n    i0.ɵɵtext(2, \" El ganador ser\\u00E1 anunciado en \");\n    i0.ɵɵelementStart(3, \"span\", 38);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" segundos... \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r5.countdown);\n  }\n}\nfunction SorteoComponent_ng_container_49_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 31);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 31);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const winnerInfo_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(winnerInfo_r15.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(winnerInfo_r15.department);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(winnerInfo_r15.prize);\n  }\n}\nfunction SorteoComponent_ng_container_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SorteoComponent_ng_container_49_tr_1_Template, 7, 3, \"tr\", 30);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.winners);\n  }\n}\nfunction SorteoComponent_ng_template_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 35);\n    i0.ɵɵtext(2, \" No hay ganadores a\\u00FAn \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction SorteoComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"div\", 40)(2, \"div\", 41)(3, \"div\", 42);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(4, \"svg\", 43);\n    i0.ɵɵelement(5, \"path\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(6, \"div\", 45)(7, \"p\", 46);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 46);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(11, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function SorteoComponent_div_52_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.resetWinner());\n    });\n    i0.ɵɵtext(12, \" Resetear \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate2(\" \\u00A1El ganador es: \", ctx_r9.winner, \" del departamento \", ctx_r9.winningDepartment, \"! \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Premio: \", ctx_r9.winningPrize, \" \");\n  }\n}\nexport let SorteoComponent = /*#__PURE__*/(() => {\n  class SorteoComponent {\n    constructor(_participanteServices, _prizesService) {\n      this._participanteServices = _participanteServices;\n      this._prizesService = _prizesService;\n      this.participants = [];\n      this.winners = [];\n      this.prizes = [];\n      this.winner = '';\n      this.winningPrize = '';\n      this.winningDepartment = '';\n      this.countdown = 0;\n      this.participants = this._participanteServices.getData('participants') || [];\n    }\n    pickWinner() {\n      if (this.participants.length > 0 && this.prizes.length > 0) {\n        this.countdown = 5;\n        const countdownInterval = setInterval(() => {\n          this.countdown--;\n          if (this.countdown === 0) {\n            clearInterval(countdownInterval);\n            const randomParticipantIndex = Math.floor(Math.random() * this.participants.length);\n            const randomPrizeIndex = Math.floor(Math.random() * this.prizes.length);\n            const winnerInfo = {\n              name: this.participants[randomParticipantIndex].name,\n              department: this.participants[randomParticipantIndex].department,\n              prize: this.prizes[randomPrizeIndex].name\n            };\n            this.winners.push(winnerInfo);\n            this.winner = winnerInfo.name;\n            this.winningDepartment = winnerInfo.department;\n            this.winningPrize = winnerInfo.prize;\n            // Remove the selected prize from the prizes array\n            const selectedPrize = this.prizes.splice(randomPrizeIndex, 1)[0];\n            this._prizesService.removePrizeFromStorage(selectedPrize); //\n            // Ocultar el ganador y el premio después de 6 segundos\n            setTimeout(() => {\n              this.resetWinner();\n            }, 10000);\n          }\n        }, 1000);\n      }\n    }\n    updatePrizes(prizes) {\n      this.prizes = prizes;\n    }\n    resetWinner() {\n      this.winner = '';\n      this.winningPrize = '';\n      this.winningDepartment = '';\n    }\n    addParticipant(name, department) {\n      if (name.trim() && department.trim()) {\n        this.participants.push({\n          name,\n          department\n        });\n        this._participanteServices.saveData('participants', this.participants);\n      }\n    }\n    deleteParticipant(participant) {\n      const index = this.participants.indexOf(participant);\n      if (index !== -1) {\n        this.participants.splice(index, 1);\n        this._participanteServices.saveData('participants', this.participants);\n      }\n    }\n    static #_ = this.ɵfac = function SorteoComponent_Factory(t) {\n      return new (t || SorteoComponent)(i0.ɵɵdirectiveInject(i1.PaticipantesService), i0.ɵɵdirectiveInject(i2.PrizeService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SorteoComponent,\n      selectors: [[\"app-sorteo\"]],\n      decls: 55,\n      vars: 8,\n      consts: [[1, \"flex\", \"justify-center\", \"pt-3\", \"bg-gradient-to-r\", \"from-teal-400\", \"to-blue-500\"], [1, \"text-3xl\", \"font-mono\", \"mb-3\", \"text-center\", \"text-white\"], [1, \"underline\", \"decoration-pink-500\"], [1, \"flex\", \"justify-center\", \"items-start\", \"h-screen\", \"bg-gradient-to-r\", \"from-teal-400\", \"to-blue-500\"], [1, \"bg-white\", \"p-8\", \"rounded-lg\", \"shadow-lg\", \"w-96\"], [1, \"flex\", \"justify-between\"], [1, \"flex\", \"flex-col\", \"w-full\"], [\"type\", \"text\", \"placeholder\", \"Nombre del participante\", 1, \"border\", \"text-wrap\", \"border-gray-200\", \"rounded-l-lg\", \"px-3\", \"py-2\", \"mb-2\", \"focus:outline-none\", \"focus:ring\", \"focus:border-blue-500\", 3, \"keyup.enter\"], [\"participantName\", \"\"], [\"type\", \"text\", \"placeholder\", \"Departamento\", 1, \"border\", \"border-gray-200\", \"text-wrap\", \"rounded-l-lg\", \"px-3\", \"py-2\", \"focus:outline-none\", \"focus:ring\", \"focus:border-blue-500\"], [\"department\", \"\"], [1, \"bg-blue-500\", \"text-white\", \"px-2\", \"py-2\", \"rounded-r-lg\", \"hover:bg-blue-600\", \"focus:outline-none\", \"focus:ring\", \"focus:border-blue-500\", \"flex\", \"items-center\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 1, \"h-6\", \"w-6\", \"text-white\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 4v16m-8-8h16\"], [1, \"flex\", \"justify-end\", \"font-semibold\"], [1, \"max-h-48\", \"overflow-y-auto\", \"border\", \"border-gray-200\", \"rounded-lg\", \"mb-6\", \"relative\", \"scrollbar-thin\", \"scrollbar-thumb-blue-500\", \"scrollbar-track-gray-100\"], [1, \"absolute\", \"inset-0\", \"bg-gradient-to-t\", \"from-gray-100\", \"via-transparent\", \"to-transparent\", \"blur\"], [1, \"w-full\"], [1, \"px-4\", \"py-2\"], [4, \"ngIf\", \"ngIfElse\"], [\"noParticipants\", \"\"], [1, \"flex\", \"justify-between\", \"mb-3\"], [3, \"prizes\", \"prizesChange\"], [1, \"flex\", \"items-end\"], [1, \"bg-sky-500\", \"text-white\", \"px-6\", \"py-2\", \"rounded-lg\", \"hover:bg-green-600\", \"focus:outline-none\", \"focus:ring\", \"focus:border-blue-500\", 3, \"click\"], [\"class\", \"text-center mb-4\", 4, \"ngIf\"], [1, \"max-h-30\", \"overflow-y-auto\", \"border\", \"border-gray-200\", \"rounded-lg\", \"mb-6\", \"relative\", \"scrollbar-thin\", \"scrollbar-thumb-blue-500\", \"scrollbar-track-gray-100\"], [\"noWinners\", \"\"], [\"class\", \"mt-8\", 4, \"ngIf\"], [1, \"flex\", \"align-bottom\", \"justify-center\", \"text-black\", \"font-normal\", \"bg-gradient-to-r\", \"from-teal-400\", \"to-blue-500\"], [4, \"ngFor\", \"ngForOf\"], [1, \"border\", \"px-4\", \"py-2\"], [1, \"text-red-500\", \"hover:text-red-700\", \"focus:outline-none\", \"focus:text-red-700\", \"transition\", \"duration-200\", \"flex\", \"items-center\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 1, \"w-6\", \"h-6\", \"animate-trash\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M6 18L18 6M6 6l12 12\"], [\"colspan\", \"3\", 1, \"px-4\", \"py-2\", \"text-gray-400\"], [1, \"text-center\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\"], [1, \"countdown\"], [1, \"mt-8\"], [1, \"bg-green-100\", \"border-l-4\", \"border-green-500\", \"text-green-700\", \"p-4\", \"rounded-lg\", \"absolute\", \"top-10\", \"right-10\", \"highlight\"], [1, \"flex\", \"items-center\"], [1, \"flex-shrink-0\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 20 20\", \"fill\", \"currentColor\", 1, \"h-5\", \"w-5\"], [\"fill-rule\", \"evenodd\", \"d\", \"M10 4a6 6 0 100 12 6 6 0 000-12zM0 10a10 10 0 1120 0 10 10 0 01-20 0z\", \"clip-rule\", \"evenodd\"], [1, \"ml-3\"], [1, \"text-sm\", \"leading-5\", \"font-medium\"], [1, \"bg-blue-500\", \"text-white\", \"px-6\", \"py-2\", \"rounded-lg\", \"hover:bg-blue-600\", \"focus:outline-none\", \"focus:ring\", \"focus:border-blue-500\", 3, \"click\"]],\n      template: function SorteoComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r19 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1)(2, \"span\", 2);\n          i0.ɵɵtext(3, \" Participantes del Sorteo \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"div\", 6)(8, \"input\", 7, 8);\n          i0.ɵɵlistener(\"keyup.enter\", function SorteoComponent_Template_input_keyup_enter_8_listener() {\n            i0.ɵɵrestoreView(_r19);\n            const _r0 = i0.ɵɵreference(9);\n            const _r1 = i0.ɵɵreference(11);\n            ctx.addParticipant(_r0.value, _r1.value);\n            _r0.value = \"\";\n            return i0.ɵɵresetView(_r1.value = \"\");\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"input\", 9, 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function SorteoComponent_Template_button_click_12_listener() {\n            i0.ɵɵrestoreView(_r19);\n            const _r0 = i0.ɵɵreference(9);\n            const _r1 = i0.ɵɵreference(11);\n            ctx.addParticipant(_r0.value, _r1.value);\n            _r0.value = \"\";\n            return i0.ɵɵresetView(_r1.value = \"\");\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(13, \"svg\", 12);\n          i0.ɵɵelement(14, \"path\", 13);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(15, \"div\", 14);\n          i0.ɵɵtext(16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 15);\n          i0.ɵɵelement(18, \"div\", 16);\n          i0.ɵɵelementStart(19, \"table\", 17)(20, \"thead\")(21, \"tr\")(22, \"th\", 18);\n          i0.ɵɵtext(23, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"th\", 18);\n          i0.ɵɵtext(25, \"Departamento\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(26, \"th\", 18);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"tbody\");\n          i0.ɵɵtemplate(28, SorteoComponent_ng_container_28_Template, 2, 1, \"ng-container\", 19);\n          i0.ɵɵtemplate(29, SorteoComponent_ng_template_29_Template, 3, 0, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(31, \"div\", 21)(32, \"app-prizes\", 22);\n          i0.ɵɵlistener(\"prizesChange\", function SorteoComponent_Template_app_prizes_prizesChange_32_listener($event) {\n            return ctx.updatePrizes($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 23)(34, \"button\", 24);\n          i0.ɵɵlistener(\"click\", function SorteoComponent_Template_button_click_34_listener() {\n            return ctx.pickWinner();\n          });\n          i0.ɵɵtext(35, \" Elegir \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(36, SorteoComponent_div_36_Template, 6, 1, \"div\", 25);\n          i0.ɵɵelementStart(37, \"div\", 26);\n          i0.ɵɵelement(38, \"div\", 16);\n          i0.ɵɵelementStart(39, \"table\", 17)(40, \"thead\")(41, \"tr\")(42, \"th\", 18);\n          i0.ɵɵtext(43, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"th\", 18);\n          i0.ɵɵtext(45, \"Departamento\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(46, \"th\", 18);\n          i0.ɵɵtext(47, \"Premio\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(48, \"tbody\");\n          i0.ɵɵtemplate(49, SorteoComponent_ng_container_49_Template, 2, 1, \"ng-container\", 19);\n          i0.ɵɵtemplate(50, SorteoComponent_ng_template_50_Template, 3, 0, \"ng-template\", null, 27, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(52, SorteoComponent_div_52_Template, 13, 3, \"div\", 28);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"footer\", 29);\n          i0.ɵɵtext(54, \" Derechos Reservados. Republica Dominicana 2024\\n\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          const _r3 = i0.ɵɵreference(30);\n          const _r7 = i0.ɵɵreference(51);\n          i0.ɵɵadvance(16);\n          i0.ɵɵtextInterpolate1(\" Cantidad: \", ctx.participants.length, \" \");\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.participants.length > 0)(\"ngIfElse\", _r3);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"prizes\", ctx.prizes);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.countdown > 0);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", ctx.winners.length > 0)(\"ngIfElse\", _r7);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.winner);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.PrizesComponent],\n      styles: [\".material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:\\\"FILL\\\" 0,\\\"wght\\\" 400,\\\"GRAD\\\" 0,\\\"opsz\\\" 48}*[_ngcontent-%COMP%]{font-family:Freeman,sans-serif;font-weight:400;font-style:normal}#font-tittle[_ngcontent-%COMP%]{font-family:Reddit Mono,monospace}@keyframes _ngcontent-%COMP%_trash{0%{transform:rotate(-5deg)}50%{transform:rotate(5deg)}to{transform:rotate(-5deg)}}.animate-trash[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_trash .5s infinite}@keyframes _ngcontent-%COMP%_highlight{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlight .5s ease-in-out}@keyframes _ngcontent-%COMP%_countdown{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.countdown[_ngcontent-%COMP%]{font-size:28px;animation:_ngcontent-%COMP%_countdown 1s ease-in-out}\"]\n    });\n  }\n  return SorteoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}